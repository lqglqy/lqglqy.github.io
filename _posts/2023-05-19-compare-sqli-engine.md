# yanshi VS libinjection VS libdetection

<table>
    <tr>
        <td>Type</td>
        <td>Yanshi</td>
        <td>Libinjection</td>
        <td>Libdetection</td>
    </tr>
    <tr>
        <td>Sqli</td>
        <td>249727</td>
        <td>242130</td>
        <td>84530</td>
    </tr>
</table>

# Yanshi sqli speed test code
```
// Generated by 偃师, sqli.ys
#include <limits.h>
#include <stdbool.h>
#include <algorithm>
#include <cinttypes>
#include <clocale>
#include <codecvt>
#include <cstdint>
#include <cstdio>
#include <cstring>
#include <cwctype>
#include <iostream>
#include <locale>
#include <string>
using namespace std;


enum VAR_ID {
SELECT=0,
SET_QUANTIFIER_ALL,
SET_QUANTIFIER_DISTINICT,
WHERE,
OR,
SQL_VAR_MAX,
};

struct sql_t {
#define SQL_POS_START_MASK 0x01
#define SQL_POS_END_MASK 0x02
char mask;
int weight;
} sql_var[SQL_VAR_MAX];
void sql_set_mask(enum VAR_ID id, char pos)
{
    sql_var[id].mask |= pos;
}
void sql_set_show()
{
    for (int i=0;i<SQL_VAR_MAX;i++) {
        printf("var id:[%d] mask:[%d]\n", i, sql_var[i].mask);
    }
}
long yanshi_main_start = 0;

bool yanshi_main_is_final(const long* ret_stack, long ret_stack_len, long u)
{
  //static const long finals[] = {0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119};
  static const unsigned long final[] = {0xffffffffffffffff,0xffffffffffffff};
  //static const long sub_finals[] = {};
  static const unsigned long sub_final[] = {0,0};
  for (long i = ret_stack_len; i; u = ret_stack[--i])
    if (! (0 <= u && u < 120 && sub_final[u/(CHAR_BIT*sizeof(long))] >> (u%(CHAR_BIT*sizeof(long))) & 1))
      return false;
  return 0 <= u && u < 120 && final[u/(CHAR_BIT*sizeof(long))] >> (u%(CHAR_BIT*sizeof(long))) & 1;
};

long yanshi_main_transit(long* ret_stack, long* ret_stack_len, long u, long c)
{
  long v = -1;
again:
  switch (u) {
  case 0:
    switch (c) {
    case 119:
      v = 29;
{
////puts"start WHERE");
sql_set_mask(WHERE, SQL_POS_START_MASK);
}
      break;
    case 116:
      v = 28;
{
////puts"end DISTINCT");
sql_set_mask(SET_QUANTIFIER_DISTINICT, SQL_POS_END_MASK);
}
{
////puts"end select");
sql_set_mask(SELECT, SQL_POS_END_MASK);
}
      break;
    case 115:
      v = 27;
{
////puts"start select");
sql_set_mask(SELECT, SQL_POS_START_MASK);
}
      break;
    case 114:
      v = 26;
{
//puts"end OR");
sql_set_mask(OR, SQL_POS_END_MASK);
}
      break;
    case 111:
      v = 25;
{
//puts"start OR");
sql_set_mask(OR, SQL_POS_START_MASK);
}
      break;
    case 108:
      v = 24;
{
//puts"end ALL");
sql_set_mask(SET_QUANTIFIER_ALL, SQL_POS_END_MASK);
}
      break;
    case 101:
      v = 23;
{
//puts"end WHERE");
sql_set_mask(WHERE, SQL_POS_END_MASK);
}
      break;
    case 100:
      v = 22;
{
//puts"start DISTINCT");
sql_set_mask(SET_QUANTIFIER_DISTINICT, SQL_POS_START_MASK);
}
      break;
    case 97:
      v = 21;
{
//puts"start ALL");
sql_set_mask(SET_QUANTIFIER_ALL, SQL_POS_START_MASK);
}
      break;
    case 87:
      v = 20;
{
//puts"start WHERE");
sql_set_mask(WHERE, SQL_POS_START_MASK);
}
      break;
    case 84:
      v = 19;
{
//puts"end DISTINCT");
sql_set_mask(SET_QUANTIFIER_DISTINICT, SQL_POS_END_MASK);
}
{
//puts"end select");
sql_set_mask(SELECT, SQL_POS_END_MASK);
}
      break;
    case 83:
      v = 18;
{
//puts"start select");
sql_set_mask(SELECT, SQL_POS_START_MASK);
}
      break;
    case 82:
      v = 17;
{
//puts"end OR");
sql_set_mask(OR, SQL_POS_END_MASK);
}
      break;
    case 79:
      v = 16;
{
//puts"start OR");
sql_set_mask(OR, SQL_POS_START_MASK);
}
      break;
    case 78:
    case 110:
      v = 15;
      break;
    case 76:
      v = 14;
{
//puts"end ALL");
sql_set_mask(SET_QUANTIFIER_ALL, SQL_POS_END_MASK);
}
      break;
    case 9:
      v = 1;
      break;
    case 32:
      v = 2;
      break;
    case 39:
      v = 3;
      break;
    case 42:
      v = 4;
      break;
    case 48 ... 57:
      v = 5;
      break;
    case 61:
      v = 6;
      break;
    case 65:
      v = 7;
{
//puts"start ALL");
sql_set_mask(SET_QUANTIFIER_ALL, SQL_POS_START_MASK);
}
      break;
    case 66:
    case 70 ... 71:
    case 74 ... 75:
    case 77:
    case 80 ... 81:
    case 85 ... 86:
    case 88 ... 90:
    case 98:
    case 102 ... 103:
    case 106 ... 107:
    case 109:
    case 112 ... 113:
    case 117 ... 118:
    case 120 ... 122:
      v = 8;
      break;
    case 67:
    case 99:
      v = 9;
      break;
    case 68:
      v = 10;
{
//puts"start DISTINCT");
sql_set_mask(SET_QUANTIFIER_DISTINICT, SQL_POS_START_MASK);
}
      break;
    case 69:
      v = 11;
{
//puts"end WHERE");
sql_set_mask(WHERE, SQL_POS_END_MASK);
}
      break;
    case 72:
    case 104:
      v = 12;
      break;
    case 73:
    case 105:
      v = 13;
      break;
    }
    break;
  case 1:
    switch (c) {
    case 9:
      v = 1;
      break;
    case 119:
      v = 37;
{
//puts"start WHERE");
sql_set_mask(WHERE, SQL_POS_START_MASK);
}
      break;
    case 39:
      v = 8;
      break;
    case 61:
      v = 6;
      break;
    case 48 ... 57:
      v = 119;
      break;
    case 79:
      v = 32;
{
//puts"start OR");
sql_set_mask(OR, SQL_POS_START_MASK);
}
      break;
    case 100:
      v = 45;
{
//puts"start DISTINCT");
sql_set_mask(SET_QUANTIFIER_DISTINICT, SQL_POS_START_MASK);
}
      break;
    case 32:
      v = 77;
      break;
    case 65:
      v = 48;
{
////puts"start ALL");
sql_set_mask(SET_QUANTIFIER_ALL, SQL_POS_START_MASK);
}
      break;
    case 68:
      v = 44;
{
////puts"start DISTINCT");
sql_set_mask(SET_QUANTIFIER_DISTINICT, SQL_POS_START_MASK);
}
      break;
    case 87:
      v = 36;
{
//puts"start WHERE");
sql_set_mask(WHERE, SQL_POS_START_MASK);
}
      break;
    case 97:
      v = 49;
{
////puts"start ALL");
sql_set_mask(SET_QUANTIFIER_ALL, SQL_POS_START_MASK);
}
      break;
    case 42:
      v = 4;
      break;
    case 111:
      v = 33;
{
//puts"start OR");
sql_set_mask(OR, SQL_POS_START_MASK);
}
      break;
    }
    break;
  case 2:
    switch (c) {
    case 9:
      v = 76;
      break;
    case 32:
      v = 2;
      break;
    case 119:
      v = 37;
{
//puts"start WHERE");
sql_set_mask(WHERE, SQL_POS_START_MASK);
}
      break;
    case 39:
      v = 8;
      break;
    case 61:
      v = 6;
      break;
    case 48 ... 57:
      v = 119;
      break;
    case 79:
      v = 32;
{
//puts"start OR");
sql_set_mask(OR, SQL_POS_START_MASK);
}
      break;
    case 100:
      v = 45;
{
//puts"start DISTINCT");
sql_set_mask(SET_QUANTIFIER_DISTINICT, SQL_POS_START_MASK);
}
      break;
    case 65:
      v = 48;
{
////puts"start ALL");
sql_set_mask(SET_QUANTIFIER_ALL, SQL_POS_START_MASK);
}
      break;
    case 68:
      v = 44;
{
//puts"start DISTINCT");
sql_set_mask(SET_QUANTIFIER_DISTINICT, SQL_POS_START_MASK);
}
      break;
    case 87:
      v = 36;
{
//puts"start WHERE");
sql_set_mask(WHERE, SQL_POS_START_MASK);
}
      break;
    case 97:
      v = 49;
{
////puts"start ALL");
sql_set_mask(SET_QUANTIFIER_ALL, SQL_POS_START_MASK);
}
      break;
    case 42:
      v = 4;
      break;
    case 111:
      v = 33;
{
//puts"start OR");
sql_set_mask(OR, SQL_POS_START_MASK);
}
      break;
    }
    break;
  case 3:
    switch (c) {
    case 79:
      v = 16;
{
//puts"start OR");
sql_set_mask(OR, SQL_POS_START_MASK);
}
      break;
    case 61:
      v = 6;
      break;
    case 48 ... 57:
    case 65 ... 78:
    case 80 ... 90:
    case 97 ... 110:
    case 112 ... 122:
      v = 8;
      break;
    case 39:
      v = 75;
      break;
    case 111:
      v = 25;
{
//puts"start OR");
sql_set_mask(OR, SQL_POS_START_MASK);
}
      break;
    case 32:
      v = 77;
      break;
    case 9:
      v = 76;
      break;
    }
    break;
  case 4:
    switch (c) {
    case 119:
      v = 37;
{
//puts"start WHERE");
sql_set_mask(WHERE, SQL_POS_START_MASK);
}
      break;
    case 87:
      v = 36;
{
//puts"start WHERE");
sql_set_mask(WHERE, SQL_POS_START_MASK);
}
      break;
    case 32:
      v = 118;
      break;
    case 9:
      v = 117;
      break;
    }
    break;
  case 5:
    switch (c) {
    case 79:
      v = 16;
{
//puts"start OR");
sql_set_mask(OR, SQL_POS_START_MASK);
}
      break;
    case 65 ... 78:
    case 80 ... 90:
    case 97 ... 110:
    case 112 ... 122:
      v = 8;
      break;
    case 61:
      v = 6;
      break;
    case 48 ... 57:
      v = 5;
      break;
    case 39:
      v = 75;
      break;
    case 111:
      v = 25;
{
//puts"start OR");
sql_set_mask(OR, SQL_POS_START_MASK);
}
      break;
    case 32:
      v = 77;
      break;
    case 9:
      v = 76;
      break;
    }
    break;
  case 6:
    switch (c) {
    case 48 ... 57:
      v = 113;
      break;
    case 39:
      v = 112;
      break;
    case 111:
      v = 33;
{
//puts"start OR");
sql_set_mask(OR, SQL_POS_START_MASK);
}
      break;
    case 32:
      v = 111;
      break;
    case 79:
      v = 32;
{
//puts"start OR");
sql_set_mask(OR, SQL_POS_START_MASK);
}
      break;
    case 9:
      v = 110;
      break;
    }
    break;
  case 7:
    switch (c) {
    case 76:
    case 108:
      v = 103;
      break;
    case 48 ... 57:
    case 65 ... 75:
    case 77 ... 90:
    case 97 ... 107:
    case 109 ... 122:
      v = 8;
      break;
    case 39:
      v = 75;
      break;
    }
    break;
  case 8:
    switch (c) {
    case 48 ... 57:
    case 65 ... 90:
    case 97 ... 122:
      v = 8;
      break;
    case 39:
      v = 75;
      break;
    }
    break;
  case 9:
    switch (c) {
    case 116:
      v = 109;
{
//puts"end DISTINCT");
sql_set_mask(SET_QUANTIFIER_DISTINICT, SQL_POS_END_MASK);
}
{
//puts"end select");
sql_set_mask(SELECT, SQL_POS_END_MASK);
}
      break;
    case 84:
      v = 108;
{
//puts"end DISTINCT");
sql_set_mask(SET_QUANTIFIER_DISTINICT, SQL_POS_END_MASK);
}
{
//puts"end select");
sql_set_mask(SELECT, SQL_POS_END_MASK);
}
      break;
    case 48 ... 57:
    case 65 ... 83:
    case 85 ... 90:
    case 97 ... 115:
    case 117 ... 122:
      v = 8;
      break;
    case 39:
      v = 75;
      break;
    }
    break;
  case 10:
    switch (c) {
    case 48 ... 57:
    case 65 ... 72:
    case 74 ... 90:
    case 97 ... 104:
    case 106 ... 122:
      v = 8;
      break;
    case 73:
    case 105:
      v = 101;
      break;
    case 39:
      v = 75;
      break;
    }
    break;
  case 11:
    switch (c) {
    case 67:
    case 99:
      v = 83;
      break;
    case 61:
      v = 6;
      break;
    case 82:
    case 114:
      v = 100;
      break;
    case 48 ... 57:
      v = 87;
      break;
    case 65 ... 66:
    case 68 ... 75:
    case 77 ... 81:
    case 83 ... 90:
    case 97 ... 98:
    case 100 ... 107:
    case 109 ... 113:
    case 115 ... 122:
      v = 8;
      break;
    case 39:
      v = 86;
      break;
    case 32:
      v = 69;
      break;
    case 76:
    case 108:
      v = 81;
      break;
    case 9:
      v = 68;
      break;
    }
    break;
  case 12:
    switch (c) {
    case 69:
    case 101:
      v = 107;
      break;
    case 48 ... 57:
    case 65 ... 68:
    case 70 ... 90:
    case 97 ... 100:
    case 102 ... 122:
      v = 8;
      break;
    case 39:
      v = 75;
      break;
    }
    break;
  case 13:
    switch (c) {
    case 83:
    case 115:
      v = 102;
      break;
    case 78:
    case 110:
      v = 15;
      break;
    case 48 ... 57:
    case 65 ... 77:
    case 79 ... 82:
    case 84 ... 90:
    case 97 ... 109:
    case 111 ... 114:
    case 116 ... 122:
      v = 8;
      break;
    case 39:
      v = 75;
      break;
    }
    break;
  case 14:
    switch (c) {
    case 76:
      v = 98;
{
//puts"end ALL");
sql_set_mask(SET_QUANTIFIER_ALL, SQL_POS_END_MASK);
}
      break;
    case 108:
      v = 99;
{
//puts"end ALL");
sql_set_mask(SET_QUANTIFIER_ALL, SQL_POS_END_MASK);
}
      break;
    case 48 ... 57:
    case 65 ... 68:
    case 70 ... 75:
    case 77 ... 90:
    case 97 ... 100:
    case 102 ... 107:
    case 109 ... 122:
      v = 8;
      break;
    case 69:
    case 101:
      v = 82;
      break;
    case 42:
      v = 4;
      break;
    case 39:
      v = 75;
      break;
    case 32:
      v = 52;
      break;
    case 9:
      v = 51;
      break;
    }
    break;
  case 15:
    switch (c) {
    case 67:
    case 99:
      v = 104;
      break;
    case 48 ... 57:
    case 65 ... 66:
    case 68 ... 90:
    case 97 ... 98:
    case 100 ... 122:
      v = 8;
      break;
    case 39:
      v = 75;
      break;
    }
    break;
  case 16:
    switch (c) {
    case 114:
      v = 97;
{
//puts"end OR");
sql_set_mask(OR, SQL_POS_END_MASK);
}
      break;
    case 82:
      v = 96;
{
//puts"end OR");
sql_set_mask(OR, SQL_POS_END_MASK);
}
      break;
    case 48 ... 57:
    case 65 ... 81:
    case 83 ... 90:
    case 97 ... 113:
    case 115 ... 122:
      v = 8;
      break;
    case 39:
      v = 75;
      break;
    }
    break;
  case 17:
    switch (c) {
    case 101:
      v = 89;
{
//puts"end WHERE");
sql_set_mask(WHERE, SQL_POS_END_MASK);
}
      break;
    case 69:
      v = 88;
{
//puts"end WHERE");
sql_set_mask(WHERE, SQL_POS_END_MASK);
}
      break;
    case 61:
      v = 6;
      break;
    case 48 ... 57:
      v = 87;
      break;
    case 65 ... 68:
    case 70 ... 90:
    case 97 ... 100:
    case 102 ... 122:
      v = 8;
      break;
    case 39:
      v = 86;
      break;
    case 32:
      v = 69;
      break;
    case 9:
      v = 68;
      break;
    }
    break;
  case 18:
    switch (c) {
    case 84:
    case 116:
      v = 80;
      break;
    case 69:
    case 101:
      v = 79;
      break;
    case 48 ... 57:
    case 65 ... 68:
    case 70 ... 83:
    case 85 ... 90:
    case 97 ... 100:
    case 102 ... 115:
    case 117 ... 122:
      v = 8;
      break;
    case 39:
      v = 75;
      break;
    }
    break;
  case 19:
    switch (c) {
    case 100:
      v = 22;
{
//puts"start DISTINCT");
sql_set_mask(SET_QUANTIFIER_DISTINICT, SQL_POS_START_MASK);
}
      break;
    case 73:
    case 105:
      v = 78;
      break;
    case 65:
      v = 7;
{
////puts"start ALL");
sql_set_mask(SET_QUANTIFIER_ALL, SQL_POS_START_MASK);
}
      break;
    case 97:
      v = 21;
{
////puts"start ALL");
sql_set_mask(SET_QUANTIFIER_ALL, SQL_POS_START_MASK);
}
      break;
    case 48 ... 57:
    case 66 ... 67:
    case 69 ... 72:
    case 74 ... 90:
    case 98 ... 99:
    case 101 ... 104:
    case 106 ... 122:
      v = 8;
      break;
    case 42:
      v = 4;
      break;
    case 68:
      v = 10;
{
//puts"start DISTINCT");
sql_set_mask(SET_QUANTIFIER_DISTINICT, SQL_POS_START_MASK);
}
      break;
    case 39:
      v = 75;
      break;
    case 32:
      v = 64;
      break;
    case 9:
      v = 63;
      break;
    }
    break;
  case 20:
    switch (c) {
    case 72:
    case 104:
      v = 12;
      break;
    case 48 ... 57:
    case 65 ... 71:
    case 73 ... 90:
    case 97 ... 103:
    case 105 ... 122:
      v = 8;
      break;
    case 39:
      v = 75;
      break;
    }
    break;
  case 21:
    switch (c) {
    case 76:
    case 108:
      v = 103;
      break;
    case 48 ... 57:
    case 65 ... 75:
    case 77 ... 90:
    case 97 ... 107:
    case 109 ... 122:
      v = 8;
      break;
    case 39:
      v = 75;
      break;
    }
    break;
  case 22:
    switch (c) {
    case 48 ... 57:
    case 65 ... 72:
    case 74 ... 90:
    case 97 ... 104:
    case 106 ... 122:
      v = 8;
      break;
    case 73:
    case 105:
      v = 101;
      break;
    case 39:
      v = 75;
      break;
    }
    break;
  case 23:
    switch (c) {
    case 67:
    case 99:
      v = 83;
      break;
    case 61:
      v = 6;
      break;
    case 82:
    case 114:
      v = 100;
      break;
    case 48 ... 57:
      v = 87;
      break;
    case 65 ... 66:
    case 68 ... 75:
    case 77 ... 81:
    case 83 ... 90:
    case 97 ... 98:
    case 100 ... 107:
    case 109 ... 113:
    case 115 ... 122:
      v = 8;
      break;
    case 39:
      v = 86;
      break;
    case 32:
      v = 69;
      break;
    case 76:
    case 108:
      v = 81;
      break;
    case 9:
      v = 68;
      break;
    }
    break;
  case 24:
    switch (c) {
    case 76:
      v = 98;
{
//puts"end ALL");
sql_set_mask(SET_QUANTIFIER_ALL, SQL_POS_END_MASK);
}
      break;
    case 108:
      v = 99;
{
//puts"end ALL");
sql_set_mask(SET_QUANTIFIER_ALL, SQL_POS_END_MASK);
}
      break;
    case 48 ... 57:
    case 65 ... 68:
    case 70 ... 75:
    case 77 ... 90:
    case 97 ... 100:
    case 102 ... 107:
    case 109 ... 122:
      v = 8;
      break;
    case 69:
    case 101:
      v = 82;
      break;
    case 42:
      v = 4;
      break;
    case 39:
      v = 75;
      break;
    case 32:
      v = 52;
      break;
    case 9:
      v = 51;
      break;
    }
    break;
  case 25:
    switch (c) {
    case 114:
      v = 97;
{
//puts"end OR");
sql_set_mask(OR, SQL_POS_END_MASK);
}
      break;
    case 82:
      v = 96;
{
//puts"end OR");
sql_set_mask(OR, SQL_POS_END_MASK);
}
      break;
    case 48 ... 57:
    case 65 ... 81:
    case 83 ... 90:
    case 97 ... 113:
    case 115 ... 122:
      v = 8;
      break;
    case 39:
      v = 75;
      break;
    }
    break;
  case 26:
    switch (c) {
    case 101:
      v = 89;
{
//puts"end WHERE");
sql_set_mask(WHERE, SQL_POS_END_MASK);
}
      break;
    case 69:
      v = 88;
{
//puts"end WHERE");
sql_set_mask(WHERE, SQL_POS_END_MASK);
}
      break;
    case 61:
      v = 6;
      break;
    case 48 ... 57:
      v = 87;
      break;
    case 65 ... 68:
    case 70 ... 90:
    case 97 ... 100:
    case 102 ... 122:
      v = 8;
      break;
    case 39:
      v = 86;
      break;
    case 32:
      v = 69;
      break;
    case 9:
      v = 68;
      break;
    }
    break;
  case 27:
    switch (c) {
    case 84:
    case 116:
      v = 80;
      break;
    case 69:
    case 101:
      v = 79;
      break;
    case 48 ... 57:
    case 65 ... 68:
    case 70 ... 83:
    case 85 ... 90:
    case 97 ... 100:
    case 102 ... 115:
    case 117 ... 122:
      v = 8;
      break;
    case 39:
      v = 75;
      break;
    }
    break;
  case 28:
    switch (c) {
    case 100:
      v = 22;
{
//puts"start DISTINCT");
sql_set_mask(SET_QUANTIFIER_DISTINICT, SQL_POS_START_MASK);
}
      break;
    case 73:
    case 105:
      v = 78;
      break;
    case 65:
      v = 7;
{
////puts"start ALL");
sql_set_mask(SET_QUANTIFIER_ALL, SQL_POS_START_MASK);
}
      break;
    case 97:
      v = 21;
{
////puts"start ALL");
sql_set_mask(SET_QUANTIFIER_ALL, SQL_POS_START_MASK);
}
      break;
    case 48 ... 57:
    case 66 ... 67:
    case 69 ... 72:
    case 74 ... 90:
    case 98 ... 99:
    case 101 ... 104:
    case 106 ... 122:
      v = 8;
      break;
    case 42:
      v = 4;
      break;
    case 68:
      v = 10;
{
//puts"start DISTINCT");
sql_set_mask(SET_QUANTIFIER_DISTINICT, SQL_POS_START_MASK);
}
      break;
    case 39:
      v = 75;
      break;
    case 32:
      v = 64;
      break;
    case 9:
      v = 63;
      break;
    }
    break;
  case 29:
    switch (c) {
    case 72:
    case 104:
      v = 12;
      break;
    case 48 ... 57:
    case 65 ... 71:
    case 73 ... 90:
    case 97 ... 103:
    case 105 ... 122:
      v = 8;
      break;
    case 39:
      v = 75;
      break;
    }
    break;
  case 30:
    switch (c) {
    case 61:
      v = 6;
      break;
    case 48 ... 57:
      v = 71;
      break;
    case 39:
      v = 70;
      break;
    case 32:
      v = 69;
      break;
    case 9:
      v = 68;
      break;
    }
    break;
  case 31:
    switch (c) {
    case 61:
      v = 6;
      break;
    case 48 ... 57:
      v = 71;
      break;
    case 39:
      v = 70;
      break;
    case 32:
      v = 69;
      break;
    case 9:
      v = 68;
      break;
    }
    break;
  case 32:
    switch (c) {
    case 114:
      v = 31;
{
//puts"end OR");
sql_set_mask(OR, SQL_POS_END_MASK);
}
      break;
    case 82:
      v = 30;
{
//puts"end OR");
sql_set_mask(OR, SQL_POS_END_MASK);
}
      break;
    }
    break;
  case 33:
    switch (c) {
    case 114:
      v = 31;
{
//puts"end OR");
sql_set_mask(OR, SQL_POS_END_MASK);
}
      break;
    case 82:
      v = 30;
{
//puts"end OR");
sql_set_mask(OR, SQL_POS_END_MASK);
}
      break;
    }
    break;
  case 34:
    switch (c) {
    case 61:
      v = 6;
      break;
    case 48 ... 57:
      v = 71;
      break;
    case 39:
      v = 70;
      break;
    case 32:
      v = 69;
      break;
    case 9:
      v = 68;
      break;
    }
    break;
  case 35:
    switch (c) {
    case 61:
      v = 6;
      break;
    case 48 ... 57:
      v = 71;
      break;
    case 39:
      v = 70;
      break;
    case 32:
      v = 69;
      break;
    case 9:
      v = 68;
      break;
    }
    break;
  case 36:
    switch (c) {
    case 72:
    case 104:
      v = 65;
      break;
    }
    break;
  case 37:
    switch (c) {
    case 72:
    case 104:
      v = 65;
      break;
    }
    break;
  case 38:
    switch (c) {
    case 100:
      v = 45;
{
//puts"start DISTINCT");
sql_set_mask(SET_QUANTIFIER_DISTINICT, SQL_POS_START_MASK);
}
      break;
    case 97:
      v = 49;
{
////puts"start ALL");
sql_set_mask(SET_QUANTIFIER_ALL, SQL_POS_START_MASK);
}
      break;
    case 68:
      v = 44;
{
//puts"start DISTINCT");
sql_set_mask(SET_QUANTIFIER_DISTINICT, SQL_POS_START_MASK);
}
      break;
    case 65:
      v = 48;
{
////puts"start ALL");
sql_set_mask(SET_QUANTIFIER_ALL, SQL_POS_START_MASK);
}
      break;
    case 42:
      v = 4;
      break;
    case 32:
      v = 64;
      break;
    case 9:
      v = 63;
      break;
    }
    break;
  case 39:
    switch (c) {
    case 100:
      v = 45;
{
//puts"start DISTINCT");
sql_set_mask(SET_QUANTIFIER_DISTINICT, SQL_POS_START_MASK);
}
      break;
    case 97:
      v = 49;
{
//puts"start ALL");
sql_set_mask(SET_QUANTIFIER_ALL, SQL_POS_START_MASK);
}
      break;
    case 68:
      v = 44;
{
//puts"start DISTINCT");
sql_set_mask(SET_QUANTIFIER_DISTINICT, SQL_POS_START_MASK);
}
      break;
    case 65:
      v = 48;
{
//puts"start ALL");
sql_set_mask(SET_QUANTIFIER_ALL, SQL_POS_START_MASK);
}
      break;
    case 42:
      v = 4;
      break;
    case 32:
      v = 64;
      break;
    case 9:
      v = 63;
      break;
    }
    break;
  case 40:
    switch (c) {
    case 69:
    case 101:
      v = 59;
      break;
    }
    break;
  case 41:
    switch (c) {
    case 69:
    case 101:
      v = 59;
      break;
    }
    break;
  case 42:
    switch (c) {
    case 42:
      v = 4;
      break;
    case 32:
      v = 52;
      break;
    case 9:
      v = 51;
      break;
    }
    break;
  case 43:
    switch (c) {
    case 42:
      v = 4;
      break;
    case 32:
      v = 52;
      break;
    case 9:
      v = 51;
      break;
    }
    break;
  case 44:
    switch (c) {
    case 73:
    case 105:
      v = 53;
      break;
    }
    break;
  case 45:
    switch (c) {
    case 73:
    case 105:
      v = 53;
      break;
    }
    break;
  case 46:
    switch (c) {
    case 42:
      v = 4;
      break;
    case 32:
      v = 52;
      break;
    case 9:
      v = 51;
      break;
    }
    break;
  case 47:
    switch (c) {
    case 42:
      v = 4;
      break;
    case 32:
      v = 52;
      break;
    case 9:
      v = 51;
      break;
    }
    break;
  case 48:
    switch (c) {
    case 76:
    case 108:
      v = 50;
      break;
    }
    break;
  case 49:
    switch (c) {
    case 76:
    case 108:
      v = 50;
      break;
    }
    break;
  case 50:
    switch (c) {
    case 108:
      v = 47;
{
//puts"end ALL");
sql_set_mask(SET_QUANTIFIER_ALL, SQL_POS_END_MASK);
}
      break;
    case 76:
      v = 46;
{
//puts"end ALL");
sql_set_mask(SET_QUANTIFIER_ALL, SQL_POS_END_MASK);
}
      break;
    }
    break;
  case 51:
    switch (c) {
    case 42:
      v = 4;
      break;
    case 9:
      v = 51;
      break;
    }
    break;
  case 52:
    switch (c) {
    case 42:
      v = 4;
      break;
    case 32:
      v = 52;
      break;
    }
    break;
  case 53:
    switch (c) {
    case 83:
    case 115:
      v = 54;
      break;
    }
    break;
  case 54:
    switch (c) {
    case 84:
    case 116:
      v = 55;
      break;
    }
    break;
  case 55:
    switch (c) {
    case 73:
    case 105:
      v = 56;
      break;
    }
    break;
  case 56:
    switch (c) {
    case 78:
    case 110:
      v = 57;
      break;
    }
    break;
  case 57:
    switch (c) {
    case 67:
    case 99:
      v = 58;
      break;
    }
    break;
  case 58:
    switch (c) {
    case 116:
      v = 43;
{
//puts"end DISTINCT");
sql_set_mask(SET_QUANTIFIER_DISTINICT, SQL_POS_END_MASK);
}
      break;
    case 84:
      v = 42;
{
//puts"end DISTINCT");
sql_set_mask(SET_QUANTIFIER_DISTINICT, SQL_POS_END_MASK);
}
      break;
    }
    break;
  case 59:
    switch (c) {
    case 76:
    case 108:
      v = 60;
      break;
    }
    break;
  case 60:
    switch (c) {
    case 69:
    case 101:
      v = 61;
      break;
    }
    break;
  case 61:
    switch (c) {
    case 67:
    case 99:
      v = 62;
      break;
    }
    break;
  case 62:
    switch (c) {
    case 116:
      v = 39;
{
//puts"end select");
sql_set_mask(SELECT, SQL_POS_END_MASK);
}
      break;
    case 84:
      v = 38;
{
//puts"end select");
sql_set_mask(SELECT, SQL_POS_END_MASK);
}
      break;
    }
    break;
  case 63:
    switch (c) {
    case 100:
      v = 45;
{
//puts"start DISTINCT");
sql_set_mask(SET_QUANTIFIER_DISTINICT, SQL_POS_START_MASK);
}
      break;
    case 97:
      v = 49;
{
//puts"start ALL");
sql_set_mask(SET_QUANTIFIER_ALL, SQL_POS_START_MASK);
}
      break;
    case 68:
      v = 44;
{
//puts"start DISTINCT");
sql_set_mask(SET_QUANTIFIER_DISTINICT, SQL_POS_START_MASK);
}
      break;
    case 65:
      v = 48;
{
//puts"start ALL");
sql_set_mask(SET_QUANTIFIER_ALL, SQL_POS_START_MASK);
}
      break;
    case 42:
      v = 4;
      break;
    case 9:
      v = 63;
      break;
    }
    break;
  case 64:
    switch (c) {
    case 100:
      v = 45;
{
//puts"start DISTINCT");
sql_set_mask(SET_QUANTIFIER_DISTINICT, SQL_POS_START_MASK);
}
      break;
    case 97:
      v = 49;
{
//puts"start ALL");
sql_set_mask(SET_QUANTIFIER_ALL, SQL_POS_START_MASK);
}
      break;
    case 68:
      v = 44;
{
//puts"start DISTINCT");
sql_set_mask(SET_QUANTIFIER_DISTINICT, SQL_POS_START_MASK);
}
      break;
    case 65:
      v = 48;
{
//puts"start ALL");
sql_set_mask(SET_QUANTIFIER_ALL, SQL_POS_START_MASK);
}
      break;
    case 42:
      v = 4;
      break;
    case 32:
      v = 64;
      break;
    }
    break;
  case 65:
    switch (c) {
    case 69:
    case 101:
      v = 66;
      break;
    }
    break;
  case 66:
    switch (c) {
    case 82:
    case 114:
      v = 67;
      break;
    }
    break;
  case 67:
    switch (c) {
    case 101:
      v = 35;
{
//puts"end WHERE");
sql_set_mask(WHERE, SQL_POS_END_MASK);
}
      break;
    case 69:
      v = 34;
{
//puts"end WHERE");
sql_set_mask(WHERE, SQL_POS_END_MASK);
}
      break;
    }
    break;
  case 68:
    switch (c) {
    case 61:
      v = 6;
      break;
    case 48 ... 57:
      v = 71;
      break;
    case 39:
      v = 70;
      break;
    case 32:
      v = 73;
      break;
    case 9:
      v = 68;
      break;
    }
    break;
  case 69:
    switch (c) {
    case 61:
      v = 6;
      break;
    case 48 ... 57:
      v = 71;
      break;
    case 39:
      v = 70;
      break;
    case 32:
      v = 69;
      break;
    case 9:
      v = 72;
      break;
    }
    break;
  case 70:
    switch (c) {
    case 48 ... 57:
    case 65 ... 90:
    case 97 ... 122:
      v = 70;
      break;
    case 39:
      v = 74;
      break;
    }
    break;
  case 71:
    switch (c) {
    case 61:
      v = 6;
      break;
    case 48 ... 57:
      v = 71;
      break;
    case 32:
      v = 73;
      break;
    case 9:
      v = 72;
      break;
    }
    break;
  case 72:
    switch (c) {
    case 61:
      v = 6;
      break;
    case 9:
      v = 72;
      break;
    }
    break;
  case 73:
    switch (c) {
    case 61:
      v = 6;
      break;
    case 32:
      v = 73;
      break;
    }
    break;
  case 74:
    switch (c) {
    case 61:
      v = 6;
      break;
    case 32:
      v = 73;
      break;
    case 9:
      v = 72;
      break;
    }
    break;
  case 75:
    switch (c) {
    case 111:
      v = 33;
{
//puts"start OR");
sql_set_mask(OR, SQL_POS_START_MASK);
}
      break;
    case 79:
      v = 32;
{
//puts"start OR");
sql_set_mask(OR, SQL_POS_START_MASK);
}
      break;
    case 61:
      v = 6;
      break;
    case 32:
      v = 77;
      break;
    case 9:
      v = 76;
      break;
    }
    break;
  case 76:
    switch (c) {
    case 111:
      v = 33;
{
//puts"start OR");
sql_set_mask(OR, SQL_POS_START_MASK);
}
      break;
    case 79:
      v = 32;
{
//puts"start OR");
sql_set_mask(OR, SQL_POS_START_MASK);
}
      break;
    case 61:
      v = 6;
      break;
    case 9:
      v = 76;
      break;
    }
    break;
  case 77:
    switch (c) {
    case 111:
      v = 33;
{
//puts"start OR");
sql_set_mask(OR, SQL_POS_START_MASK);
}
      break;
    case 79:
      v = 32;
{
//puts"start OR");
sql_set_mask(OR, SQL_POS_START_MASK);
}
      break;
    case 61:
      v = 6;
      break;
    case 32:
      v = 77;
      break;
    }
    break;
  case 78:
    switch (c) {
    case 78:
    case 110:
      v = 15;
      break;
    case 48 ... 57:
    case 65 ... 77:
    case 79 ... 90:
    case 97 ... 109:
    case 111 ... 122:
      v = 8;
      break;
    case 39:
      v = 75;
      break;
    }
    break;
  case 79:
    switch (c) {
    case 76:
    case 108:
      v = 81;
      break;
    case 48 ... 57:
    case 65 ... 75:
    case 77 ... 90:
    case 97 ... 107:
    case 109 ... 122:
      v = 8;
      break;
    case 39:
      v = 75;
      break;
    }
    break;
  case 80:
    switch (c) {
    case 73:
    case 105:
      v = 78;
      break;
    case 48 ... 57:
    case 65 ... 72:
    case 74 ... 90:
    case 97 ... 104:
    case 106 ... 122:
      v = 8;
      break;
    case 39:
      v = 75;
      break;
    }
    break;
  case 81:
    switch (c) {
    case 69:
    case 101:
      v = 82;
      break;
    case 48 ... 57:
    case 65 ... 68:
    case 70 ... 90:
    case 97 ... 100:
    case 102 ... 122:
      v = 8;
      break;
    case 39:
      v = 75;
      break;
    }
    break;
  case 82:
    switch (c) {
    case 67:
    case 99:
      v = 83;
      break;
    case 48 ... 57:
    case 65 ... 66:
    case 68 ... 90:
    case 97 ... 98:
    case 100 ... 122:
      v = 8;
      break;
    case 39:
      v = 75;
      break;
    }
    break;
  case 83:
    switch (c) {
    case 116:
      v = 85;
{
//puts"end select");
sql_set_mask(SELECT, SQL_POS_END_MASK);
}
      break;
    case 84:
      v = 84;
{
//puts"end select");
sql_set_mask(SELECT, SQL_POS_END_MASK);
}
      break;
    case 48 ... 57:
    case 65 ... 83:
    case 85 ... 90:
    case 97 ... 115:
    case 117 ... 122:
      v = 8;
      break;
    case 39:
      v = 75;
      break;
    }
    break;
  case 84:
    switch (c) {
    case 100:
      v = 22;
{
//puts"start DISTINCT");
sql_set_mask(SET_QUANTIFIER_DISTINICT, SQL_POS_START_MASK);
}
      break;
    case 65:
      v = 7;
{
//puts"start ALL");
sql_set_mask(SET_QUANTIFIER_ALL, SQL_POS_START_MASK);
}
      break;
    case 97:
      v = 21;
{
//puts"start ALL");
sql_set_mask(SET_QUANTIFIER_ALL, SQL_POS_START_MASK);
}
      break;
    case 48 ... 57:
    case 66 ... 67:
    case 69 ... 90:
    case 98 ... 99:
    case 101 ... 122:
      v = 8;
      break;
    case 42:
      v = 4;
      break;
    case 68:
      v = 10;
{
//puts"start DISTINCT");
sql_set_mask(SET_QUANTIFIER_DISTINICT, SQL_POS_START_MASK);
}
      break;
    case 39:
      v = 75;
      break;
    case 32:
      v = 64;
      break;
    case 9:
      v = 63;
      break;
    }
    break;
  case 85:
    switch (c) {
    case 100:
      v = 22;
{
//puts"start DISTINCT");
sql_set_mask(SET_QUANTIFIER_DISTINICT, SQL_POS_START_MASK);
}
      break;
    case 65:
      v = 7;
{
//puts"start ALL");
sql_set_mask(SET_QUANTIFIER_ALL, SQL_POS_START_MASK);
}
      break;
    case 97:
      v = 21;
{
//puts"start ALL");
sql_set_mask(SET_QUANTIFIER_ALL, SQL_POS_START_MASK);
}
      break;
    case 48 ... 57:
    case 66 ... 67:
    case 69 ... 90:
    case 98 ... 99:
    case 101 ... 122:
      v = 8;
      break;
    case 42:
      v = 4;
      break;
    case 68:
      v = 10;
{
//puts"start DISTINCT");
sql_set_mask(SET_QUANTIFIER_DISTINICT, SQL_POS_START_MASK);
}
      break;
    case 39:
      v = 75;
      break;
    case 32:
      v = 64;
      break;
    case 9:
      v = 63;
      break;
    }
    break;
  case 86:
    switch (c) {
    case 111:
      v = 91;
{
//puts"start OR");
sql_set_mask(OR, SQL_POS_START_MASK);
}
      break;
    case 61:
      v = 6;
      break;
    case 48 ... 57:
    case 65 ... 78:
    case 80 ... 90:
    case 97 ... 110:
    case 112 ... 122:
      v = 70;
      break;
    case 39:
      v = 74;
      break;
    case 79:
      v = 90;
{
//puts"start OR");
sql_set_mask(OR, SQL_POS_START_MASK);
}
      break;
    case 32:
      v = 77;
      break;
    case 9:
      v = 76;
      break;
    }
    break;
  case 87:
    switch (c) {
    case 61:
      v = 6;
      break;
    case 48 ... 57:
      v = 87;
      break;
    case 39:
      v = 75;
      break;
    case 65 ... 90:
    case 97 ... 122:
      v = 8;
      break;
    case 32:
      v = 73;
      break;
    case 9:
      v = 72;
      break;
    }
    break;
  case 88:
    switch (c) {
    case 61:
      v = 6;
      break;
    case 48 ... 57:
      v = 87;
      break;
    case 65 ... 90:
    case 97 ... 122:
      v = 8;
      break;
    case 39:
      v = 86;
      break;
    case 32:
      v = 69;
      break;
    case 9:
      v = 68;
      break;
    }
    break;
  case 89:
    switch (c) {
    case 61:
      v = 6;
      break;
    case 48 ... 57:
      v = 87;
      break;
    case 65 ... 90:
    case 97 ... 122:
      v = 8;
      break;
    case 39:
      v = 86;
      break;
    case 32:
      v = 69;
      break;
    case 9:
      v = 68;
      break;
    }
    break;
  case 90:
    switch (c) {
    case 114:
      v = 93;
{
//puts"end OR");
sql_set_mask(OR, SQL_POS_END_MASK);
}
      break;
    case 82:
      v = 92;
{
//puts"end OR");
sql_set_mask(OR, SQL_POS_END_MASK);
}
      break;
    case 48 ... 57:
    case 65 ... 81:
    case 83 ... 90:
    case 97 ... 113:
    case 115 ... 122:
      v = 70;
      break;
    case 39:
      v = 74;
      break;
    }
    break;
  case 91:
    switch (c) {
    case 114:
      v = 93;
{
//puts"end OR");
sql_set_mask(OR, SQL_POS_END_MASK);
}
      break;
    case 82:
      v = 92;
{
//puts"end OR");
sql_set_mask(OR, SQL_POS_END_MASK);
}
      break;
    case 48 ... 57:
    case 65 ... 81:
    case 83 ... 90:
    case 97 ... 113:
    case 115 ... 122:
      v = 70;
      break;
    case 39:
      v = 74;
      break;
    }
    break;
  case 92:
    switch (c) {
    case 65 ... 90:
    case 97 ... 122:
      v = 70;
      break;
    case 61:
      v = 6;
      break;
    case 48 ... 57:
      v = 95;
      break;
    case 32:
      v = 69;
      break;
    case 39:
      v = 94;
      break;
    case 9:
      v = 68;
      break;
    }
    break;
  case 93:
    switch (c) {
    case 65 ... 90:
    case 97 ... 122:
      v = 70;
      break;
    case 61:
      v = 6;
      break;
    case 48 ... 57:
      v = 95;
      break;
    case 32:
      v = 69;
      break;
    case 39:
      v = 94;
      break;
    case 9:
      v = 68;
      break;
    }
    break;
  case 94:
    switch (c) {
    case 61:
      v = 6;
      break;
    case 48 ... 57:
    case 65 ... 90:
    case 97 ... 122:
      v = 70;
      break;
    case 39:
      v = 74;
      break;
    case 32:
      v = 73;
      break;
    case 9:
      v = 72;
      break;
    }
    break;
  case 95:
    switch (c) {
    case 65 ... 90:
    case 97 ... 122:
      v = 70;
      break;
    case 61:
      v = 6;
      break;
    case 48 ... 57:
      v = 95;
      break;
    case 39:
      v = 74;
      break;
    case 32:
      v = 73;
      break;
    case 9:
      v = 72;
      break;
    }
    break;
  case 96:
    switch (c) {
    case 61:
      v = 6;
      break;
    case 48 ... 57:
      v = 87;
      break;
    case 65 ... 90:
    case 97 ... 122:
      v = 8;
      break;
    case 39:
      v = 86;
      break;
    case 32:
      v = 69;
      break;
    case 9:
      v = 68;
      break;
    }
    break;
  case 97:
    switch (c) {
    case 61:
      v = 6;
      break;
    case 48 ... 57:
      v = 87;
      break;
    case 65 ... 90:
    case 97 ... 122:
      v = 8;
      break;
    case 39:
      v = 86;
      break;
    case 32:
      v = 69;
      break;
    case 9:
      v = 68;
      break;
    }
    break;
  case 98:
    switch (c) {
    case 48 ... 57:
    case 65 ... 90:
    case 97 ... 122:
      v = 8;
      break;
    case 42:
      v = 4;
      break;
    case 39:
      v = 75;
      break;
    case 32:
      v = 52;
      break;
    case 9:
      v = 51;
      break;
    }
    break;
  case 99:
    switch (c) {
    case 48 ... 57:
    case 65 ... 90:
    case 97 ... 122:
      v = 8;
      break;
    case 42:
      v = 4;
      break;
    case 39:
      v = 75;
      break;
    case 32:
      v = 52;
      break;
    case 9:
      v = 51;
      break;
    }
    break;
  case 100:
    switch (c) {
    case 101:
      v = 89;
{
//puts"end WHERE");
sql_set_mask(WHERE, SQL_POS_END_MASK);
}
      break;
    case 48 ... 57:
    case 65 ... 68:
    case 70 ... 90:
    case 97 ... 100:
    case 102 ... 122:
      v = 8;
      break;
    case 69:
      v = 88;
{
//puts"end WHERE");
sql_set_mask(WHERE, SQL_POS_END_MASK);
}
      break;
    case 39:
      v = 75;
      break;
    }
    break;
  case 101:
    switch (c) {
    case 83:
    case 115:
      v = 102;
      break;
    case 48 ... 57:
    case 65 ... 82:
    case 84 ... 90:
    case 97 ... 114:
    case 116 ... 122:
      v = 8;
      break;
    case 39:
      v = 75;
      break;
    }
    break;
  case 102:
    switch (c) {
    case 84:
    case 116:
      v = 80;
      break;
    case 48 ... 57:
    case 65 ... 83:
    case 85 ... 90:
    case 97 ... 115:
    case 117 ... 122:
      v = 8;
      break;
    case 39:
      v = 75;
      break;
    }
    break;
  case 103:
    switch (c) {
    case 76:
      v = 98;
{
//puts"end ALL");
sql_set_mask(SET_QUANTIFIER_ALL, SQL_POS_END_MASK);
}
      break;
    case 108:
      v = 99;
{
//puts"end ALL");
sql_set_mask(SET_QUANTIFIER_ALL, SQL_POS_END_MASK);
}
      break;
    case 48 ... 57:
    case 65 ... 75:
    case 77 ... 90:
    case 97 ... 107:
    case 109 ... 122:
      v = 8;
      break;
    case 39:
      v = 75;
      break;
    }
    break;
  case 104:
    switch (c) {
    case 116:
      v = 106;
{
//puts"end DISTINCT");
sql_set_mask(SET_QUANTIFIER_DISTINICT, SQL_POS_END_MASK);
}
      break;
    case 84:
      v = 105;
{
//puts"end DISTINCT");
sql_set_mask(SET_QUANTIFIER_DISTINICT, SQL_POS_END_MASK);
}
      break;
    case 48 ... 57:
    case 65 ... 83:
    case 85 ... 90:
    case 97 ... 115:
    case 117 ... 122:
      v = 8;
      break;
    case 39:
      v = 75;
      break;
    }
    break;
  case 105:
    switch (c) {
    case 48 ... 57:
    case 65 ... 90:
    case 97 ... 122:
      v = 8;
      break;
    case 42:
      v = 4;
      break;
    case 39:
      v = 75;
      break;
    case 32:
      v = 52;
      break;
    case 9:
      v = 51;
      break;
    }
    break;
  case 106:
    switch (c) {
    case 48 ... 57:
    case 65 ... 90:
    case 97 ... 122:
      v = 8;
      break;
    case 42:
      v = 4;
      break;
    case 39:
      v = 75;
      break;
    case 32:
      v = 52;
      break;
    case 9:
      v = 51;
      break;
    }
    break;
  case 107:
    switch (c) {
    case 82:
    case 114:
      v = 100;
      break;
    case 48 ... 57:
    case 65 ... 81:
    case 83 ... 90:
    case 97 ... 113:
    case 115 ... 122:
      v = 8;
      break;
    case 39:
      v = 75;
      break;
    }
    break;
  case 108:
    switch (c) {
    case 100:
      v = 22;
{
//puts"start DISTINCT");
sql_set_mask(SET_QUANTIFIER_DISTINICT, SQL_POS_START_MASK);
}
      break;
    case 65:
      v = 7;
{
//puts"start ALL");
sql_set_mask(SET_QUANTIFIER_ALL, SQL_POS_START_MASK);
}
      break;
    case 97:
      v = 21;
{
//puts"start ALL");
sql_set_mask(SET_QUANTIFIER_ALL, SQL_POS_START_MASK);
}
      break;
    case 48 ... 57:
    case 66 ... 67:
    case 69 ... 90:
    case 98 ... 99:
    case 101 ... 122:
      v = 8;
      break;
    case 42:
      v = 4;
      break;
    case 68:
      v = 10;
{
//puts"start DISTINCT");
sql_set_mask(SET_QUANTIFIER_DISTINICT, SQL_POS_START_MASK);
}
      break;
    case 39:
      v = 75;
      break;
    case 32:
      v = 64;
      break;
    case 9:
      v = 63;
      break;
    }
    break;
  case 109:
    switch (c) {
    case 100:
      v = 22;
{
//puts"start DISTINCT");
sql_set_mask(SET_QUANTIFIER_DISTINICT, SQL_POS_START_MASK);
}
      break;
    case 65:
      v = 7;
{
//puts"start ALL");
sql_set_mask(SET_QUANTIFIER_ALL, SQL_POS_START_MASK);
}
      break;
    case 97:
      v = 21;
{
//puts"start ALL");
sql_set_mask(SET_QUANTIFIER_ALL, SQL_POS_START_MASK);
}
      break;
    case 48 ... 57:
    case 66 ... 67:
    case 69 ... 90:
    case 98 ... 99:
    case 101 ... 122:
      v = 8;
      break;
    case 42:
      v = 4;
      break;
    case 68:
      v = 10;
{
//puts"start DISTINCT");
sql_set_mask(SET_QUANTIFIER_DISTINICT, SQL_POS_START_MASK);
}
      break;
    case 39:
      v = 75;
      break;
    case 32:
      v = 64;
      break;
    case 9:
      v = 63;
      break;
    }
    break;
  case 110:
    switch (c) {
    case 111:
      v = 33;
{
//puts"start OR");
sql_set_mask(OR, SQL_POS_START_MASK);
}
      break;
    case 48 ... 57:
      v = 113;
      break;
    case 39:
      v = 112;
      break;
    case 32:
      v = 115;
      break;
    case 79:
      v = 32;
{
//puts"start OR");
sql_set_mask(OR, SQL_POS_START_MASK);
}
      break;
    case 9:
      v = 110;
      break;
    }
    break;
  case 111:
    switch (c) {
    case 79:
      v = 32;
{
//puts"start OR");
sql_set_mask(OR, SQL_POS_START_MASK);
}
      break;
    case 48 ... 57:
      v = 113;
      break;
    case 39:
      v = 112;
      break;
    case 111:
      v = 33;
{
//puts"start OR");
sql_set_mask(OR, SQL_POS_START_MASK);
}
      break;
    case 32:
      v = 111;
      break;
    case 9:
      v = 114;
      break;
    }
    break;
  case 112:
    switch (c) {
    case 48 ... 57:
    case 65 ... 90:
    case 97 ... 122:
      v = 112;
      break;
    case 39:
      v = 116;
      break;
    }
    break;
  case 113:
    switch (c) {
    case 111:
      v = 33;
{
//puts"start OR");
sql_set_mask(OR, SQL_POS_START_MASK);
}
      break;
    case 79:
      v = 32;
{
//puts"start OR");
sql_set_mask(OR, SQL_POS_START_MASK);
}
      break;
    case 48 ... 57:
      v = 113;
      break;
    case 32:
      v = 115;
      break;
    case 9:
      v = 114;
      break;
    }
    break;
  case 114:
    switch (c) {
    case 111:
      v = 33;
{
//puts"start OR");
sql_set_mask(OR, SQL_POS_START_MASK);
}
      break;
    case 79:
      v = 32;
{
//puts"start OR");
sql_set_mask(OR, SQL_POS_START_MASK);
}
      break;
    case 9:
      v = 114;
      break;
    }
    break;
  case 115:
    switch (c) {
    case 111:
      v = 33;
{
//puts"start OR");
sql_set_mask(OR, SQL_POS_START_MASK);
}
      break;
    case 79:
      v = 32;
{
//puts"start OR");
sql_set_mask(OR, SQL_POS_START_MASK);
}
      break;
    case 32:
      v = 115;
      break;
    }
    break;
  case 116:
    switch (c) {
    case 111:
      v = 33;
{
//puts"start OR");
sql_set_mask(OR, SQL_POS_START_MASK);
}
      break;
    case 79:
      v = 32;
{
//puts"start OR");
sql_set_mask(OR, SQL_POS_START_MASK);
}
      break;
    case 32:
      v = 115;
      break;
    case 9:
      v = 114;
      break;
    }
    break;
  case 117:
    switch (c) {
    case 119:
      v = 37;
{
//puts"start WHERE");
sql_set_mask(WHERE, SQL_POS_START_MASK);
}
      break;
    case 87:
      v = 36;
{
//puts"start WHERE");
sql_set_mask(WHERE, SQL_POS_START_MASK);
}
      break;
    case 9:
      v = 117;
      break;
    }
    break;
  case 118:
    switch (c) {
    case 119:
      v = 37;
{
//puts"start WHERE");
sql_set_mask(WHERE, SQL_POS_START_MASK);
}
      break;
    case 87:
      v = 36;
{
//puts"start WHERE");
sql_set_mask(WHERE, SQL_POS_START_MASK);
}
      break;
    case 32:
      v = 118;
      break;
    }
    break;
  case 119:
    switch (c) {
    case 111:
      v = 33;
{
//puts"start OR");
sql_set_mask(OR, SQL_POS_START_MASK);
}
      break;
    case 79:
      v = 32;
{
//puts"start OR");
sql_set_mask(OR, SQL_POS_START_MASK);
}
      break;
    case 61:
      v = 6;
      break;
    case 48 ... 57:
      v = 119;
      break;
    case 32:
      v = 77;
      break;
    case 9:
      v = 76;
      break;
    }
    break;
  }
  return v;
}


int is_sqli(const char* buf, size_t len)
{
  setlocale(LC_ALL, "");
  string utf8;
  const char* p;
  long c, u = yanshi_main_start, pref = 0;
  long ret_stack[100], ret_stack_len = 0;
  utf8 = buf;
  u32string utf32 = wstring_convert<codecvt_utf8<char32_t>, char32_t>{}.from_bytes(utf8);
  //printf("\033[%s33m%ld \033[m", yanshi_main_is_final(ret_stack, ret_stack_len, u) ? "1;" : "", u);
  for (char32_t c: utf32) {
    u = yanshi_main_transit(ret_stack, &ret_stack_len, u, c);
    if (c > WCHAR_MAX || iswcntrl(c)) {
	    //printf("%" PRIuLEAST32 " ", c);
    } else {
	    //cout << wstring_convert<codecvt_utf8<char32_t>, char32_t>{}.to_bytes(c) << ' ';
    }
    yanshi_main_is_final(ret_stack, ret_stack_len, u);
    //printf("\033[%s33m%ld \033[m", yanshi_main_is_final(ret_stack, ret_stack_len, u) ? "1;" : "", u);
    if (u < 0) break;
    pref++;
  }
  //printf("\nlen: %zd\npref: %ld\nstate: %ld\nfinal: %s\n", utf32.size(), pref, u, yanshi_main_is_final(ret_stack, ret_stack_len, u) ? "true" : "false");
  return 0;
}

int testIsSQL(void);

int testIsSQL(void)
{
    const char* const s[] = {
        "123 LIKE -1234.5678E+2;",
        "APPLE 19.123 'FOO' \"BAR\"",
        "/* BAR */ UNION ALL SELECT (2,3,4)",
        "1 || COS(+0X04) --FOOBAR",
        "dog apple @cat banana bar",
        "dog apple cat \"banana \'bar",
        "102 TABLE CLOTH",
        "(1001-'1') union select 1,2,3,4 from credit_cards",
        NULL
    };
    const int imax = 1000000;
    int i, j;
    size_t slen;
    clock_t t0,t1;
    double total;
    int tps;

    t0 = clock();
    for (i = imax, j=0; i != 0; --i, ++j) {
        if (s[j] == NULL) {
            j = 0;
        }

        slen = strlen(s[j]);
	is_sqli(s[j], slen);
    }

    t1 = clock();
    total = (double) (t1 - t0) / (double) CLOCKS_PER_SEC;
    tps = (int)((double) imax / total);
    return tps;
}

int main(void)
{
    const int mintps = 450000;
    int tps = testIsSQL();

    printf("\nTPS : %d\n\n", tps);

    if (tps < mintps) {
        printf("FAIL: %d < %d\n", tps, mintps);
        /* FAIL */
        return 1;
    } else {
        printf("OK: %d > %d\n", tps, mintps);
        /* OK */
        return 0;
    }
}
```
